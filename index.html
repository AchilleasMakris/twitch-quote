<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitch Quotes</title>
    <style>
        #quote-popup {
            display: none;
            position: fixed;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 1.5em;
        }
    </style>
</head>
<body>
    <div id="quote-popup"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tmi.js/1.8.5/tmi.min.js"></script>
    <script src="script.js"></script>
    <script type="module">
        import tmi from "https://esm.sh/tmi.js";
    
        const client = new tmi.Client({
            options: { debug: true },
            connection: { reconnect: true },
            channels: ["lexmindset"] // Replace with your Twitch username
        });
    
        client.connect();
    
        client.on("message", (channel, tags, message, self) => {
            if (self) return;
            console.log("Received message:", message);
    
            if (message.toLowerCase() === "!quote") {
                console.log("Fetching quote...");
                fetch("https://api.quotable.io/random")
                    .then(response => response.json())
                    .then(data => {
                        console.log("Fetched quote:", data.content);
                        const quotePopup = document.getElementById("quote-popup");
                        if (quotePopup) {
                            quotePopup.innerText = data.content;
                            quotePopup.style.display = "block";
    
                            setTimeout(() => {
                                quotePopup.style.display = "none";
                            }, 5000);
                        }
                    })
                    .catch(error => console.error("Error fetching quote:", error));
            }
        });
    </script>
    

</body>
</html>